
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>javaåŸºç¡€ä¹‹ï¼šJDBC - AIX Zing</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="&lt;br/&gt;å…‰è£åœ¨äºå¹³æ·¡&lt;br/&gt;è‰°å·¨åœ¨äºæ¼«é•¿&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;æ— è®ºæˆ‘å¤šæ—©è¿æ¥è¿™æ¸…æ™¨&lt;br/&gt;åœ¨è·¯ä¸Š&lt;br/&gt;éƒ½ä¼šæœ‰äººåœ¨&lt;br/&gt;æˆ‘ä»¥ä¸ºåˆ«äººè¿˜åœ¨æ¢¦ä¹¡&lt;br/&gt;ä½†æ— è®ºä»€ä¹ˆæ—¶å€™&lt;br/&gt;è¿™ä¸ªä¸–ç•Œéƒ½æ¯”æˆ‘å¿«ä¸€æ­¥,JDBCæ˜¯Javaè¿æ¥æ•°æ®åº“çš„æ ‡å‡†ï¼Œä¸ºäº†å…¼å®¹å¤§éƒ¨åˆ†æ•°æ®åº“ï¼ŒJavaæå‡ºäº†JDBCæ ‡å‡†ï¼Œé€šè¿‡è¿™ä¸ªæ ‡å‡†ï¼Œè®©å„ä¸ªæ•°æ®åº“æä¾›å®ç°æ”¯æŒï¼Œè¿™æ ·å®ç°ä¸€å¤„ç¼–ç ï¼Œå¤„å¤„è¿è¡Œçš„Javaç‰¹æ€§ã€‚
ä¹ æƒ¯äº†ORMæ¡†æ¶ï¼Œå´å¿˜è®°äº†åŸ,"> 
    <meta name="author" content="zing"> 
    <link rel="alternative" href="atom.xml" title="AIX Zing" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    <link rel="stylesheet" href="/css/diaspora.css">
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">AIX Zing</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://xzing.github.io"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="iconfont icon-play"></div>
    <h3 class="subtitle">javaåŸºç¡€ä¹‹ï¼šJDBC</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">javaåŸºç¡€ä¹‹ï¼šJDBC</h1>
        <div class="stuff">
            <span>ä¸‰æœˆ 09, 2017</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/JDBC/">JDBC</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Java/">Java</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/æ•°æ®åº“/">æ•°æ®åº“</a></li></ul>


        </div>
        <div class="content markdown">
            <p>JDBCæ˜¯Javaè¿æ¥æ•°æ®åº“çš„æ ‡å‡†ï¼Œä¸ºäº†å…¼å®¹å¤§éƒ¨åˆ†æ•°æ®åº“ï¼ŒJavaæå‡ºäº†JDBCæ ‡å‡†ï¼Œé€šè¿‡è¿™ä¸ªæ ‡å‡†ï¼Œè®©å„ä¸ªæ•°æ®åº“æä¾›å®ç°æ”¯æŒï¼Œè¿™æ ·å®ç°ä¸€å¤„ç¼–ç ï¼Œå¤„å¤„è¿è¡Œçš„Javaç‰¹æ€§ã€‚</p>
<p>ä¹ æƒ¯äº†ORMæ¡†æ¶ï¼Œå´å¿˜è®°äº†åŸæœ¬çš„JDBCï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æœ‰å¿…è¦å¤ä¹ æ¥å¤¯å®ä¸€ä¸‹åŸºç¡€ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1112615-719a927e4839a667.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<a id="more"></a>
<h2 id="0x00-JDBC-å†å²"><a href="#0x00-JDBC-å†å²" class="headerlink" title="0x00 JDBC å†å²"></a>0x00 JDBC å†å²</h2><p>JDBCæ˜¯Sunå…¬å¸ä¸ºäº†èƒ½å¤Ÿè®©SQLè®¿é—®ç»Ÿä¸€çš„ä¸€å¥—çº¯JAVA APIè®¾è®¡çš„ä¸€å¥—æ¥å£ï¼Œè¿™ç§æ¥å£æ˜¯éµå¾ªäº†å¾®è½¯çš„ODBC APIæ¨¡å¼ã€‚å…¶é©±åŠ¨å®ç°æ˜¯å„å®¶æ•°æ®åº“ä¾›åº”å•†ç¼–å†™çš„ï¼Œé€šè¿‡JDBC APIå¯ä»¥é€šè¿‡é©±åŠ¨å®ç°æ•°æ®åº“é€šä¿¡ã€‚</p>
<h2 id="0x01-é“¾æ¥æ•°æ®åº“å›é¡¾"><a href="#0x01-é“¾æ¥æ•°æ®åº“å›é¡¾" class="headerlink" title="0x01 é“¾æ¥æ•°æ®åº“å›é¡¾"></a>0x01 é“¾æ¥æ•°æ®åº“å›é¡¾</h2><p>åŸºæœ¬Webå¸¸ç”¨çš„æ•°æ®åº“éƒ½æ˜¯æœ‰ä¾›Javaé“¾æ¥çš„é©±åŠ¨ï¼Œ</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1112615-d0884440199c9cc7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸‰å±‚ç»“æ„"></p>
<p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨JDBCï¼Ÿ<br>å†™ä¸ªDemo<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zing on 2017/3/7.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span>  <span class="keyword">void</span> <span class="title">testJDBC</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, IOException, SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        <span class="comment">//JDBCä½¿ç”¨ç±»ä¼¼URLçš„æ•°æ®æºæè¿°</span></span><br><span class="line">        String url = <span class="string">"jdbc:mysql://localhost:3306/demo"</span>;<span class="comment">//å¿½ç•¥</span></span><br><span class="line">        <span class="comment">//ä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è¿™æ ·å†™æ­»ã€‚è€Œæ˜¯ä½¿ç”¨é…ç½®æ¥æè¿°æ•°æ®æºï¼Œç”¨æˆ·åï¼Œå¯†ç </span></span><br><span class="line">        Properties props = <span class="keyword">new</span> Properties();</span><br><span class="line">        FileInputStream propertiesFile = <span class="keyword">new</span> FileInputStream(<span class="string">"JDBC.properties"</span>);</span><br><span class="line">        props.load(propertiesFile);</span><br><span class="line">        propertiesFile.close();</span><br><span class="line"></span><br><span class="line">        String DriverStr = props.getProperty(<span class="string">"jdbc.Driver"</span>);</span><br><span class="line">        String urlStr = props.getProperty(<span class="string">"jdbc.url"</span>);</span><br><span class="line">        String userName = props.getProperty(<span class="string">"jdbc.name"</span>);</span><br><span class="line">        String passcode = props.getProperty(<span class="string">"jdbc.passworld"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰“å¼€æ•°æ®åº“é“¾æ¥</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(urlStr,userName,passcode);</span><br><span class="line">        <span class="comment">//æ‰§è¡ŒSQL</span></span><br><span class="line">        Statement sta = connection.createStatement();</span><br><span class="line">        <span class="comment">//executeUpdateå¯ä»¥è¿”å›æ•°æ®åº“æ›´æ–°çš„è¡Œæ•°</span></span><br><span class="line">        <span class="keyword">int</span> efactRow = sta.executeUpdate(<span class="string">"UPDATE USER SET Permition = 'admin' WHERE username = 'Zing'"</span>);</span><br><span class="line">        <span class="comment">//executeQueryå¯ä»¥è¿”å›ä¸€ä¸ªæŸ¥è¯¢çš„ç»“æœé›†ï¼Œè¿™ä¸ªé›†åˆçš„è¿­ä»£å™¨ç•¥æœ‰ä¸åŒIterator,æ²¡æœ‰hasNextæ–¹æ³•ï¼Œåˆå§‹æ˜¯ï¼ŒæŒ‡é’ˆåœ¨æ•°æ®å‰ï¼Œå¿…é¡»è°ƒç”¨nextæ–¹æ³•æ‰èƒ½è¯»å–ç¬¬ä¸€è¡Œæ•°æ®</span></span><br><span class="line">        ResultSet resultSet = sta.executeQuery(<span class="string">"SELECT * FROM USER ;"</span>);</span><br><span class="line">        <span class="keyword">while</span> (resultSet.next())&#123;</span><br><span class="line">            <span class="comment">//å½“å‰è¡Œè·å–ç¬¬ä¸€æ çš„å€¼ï¼Œå…·ä½“ç±»å‹éœ€è¦çœ‹æ•°æ®åº“å®ç°</span></span><br><span class="line">            resultSet.getString(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…³é—­è¯­å¥</span></span><br><span class="line">        sta.close();</span><br><span class="line">        <span class="comment">//å…³é—­ç»“æœé›†</span></span><br><span class="line">        resultSet.close();</span><br><span class="line">        <span class="comment">//å…³é—­æ•°æ®åº“è¿æ¥</span></span><br><span class="line">        connection.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…³é—­çš„æ“ä½œä¼šæ”¾åœ¨catchè¯­å¥çš„finallyå—ä¸­ï¼Œcatchå¤„ç†æ•°æ®åº“å¼‚å¸¸ï¼Œfinallyæ¥å…³é—­è¿æ¥</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢å†™çš„æ˜¯å¤§æ‚çƒ©ï¼Œä¸€èˆ¬ä¼šå°†è·å–è¿æ¥æŠ½å–æˆä¸€ä¸ªæ–¹æ³•ï¼Œå¼‚å¸¸ä¹Ÿä¼šæ•è·ï¼Œå¹¶åœ¨try/catch/finallyä¸­çš„finallyå—ä¸­ï¼Œå…³é—­æ•°æ®åº“è¿æ¥ã€‚</p>
<p>APIç”¨æ³•å¯ä»¥çœ‹çœ‹<code>java.sql.Connection</code>ï¼Œ<code>java.sql.Statement</code>ï¼Œ<code>java.sql.ResultSet</code>ï¼Œè¿™æ ·ï¼ŒåŸºæœ¬çš„æ“ä½œå°±å¯ä»¥äº†ç„¶äº†ã€‚</p>
<blockquote>
<p><em><code>boolean execute(String sql) throws SQLException;</code>è¿™ä¸ªæ–¹æ³•å¯ä»¥æ‰§è¡Œä»»ä½•SQLï¼Œè¿”å›æ‰§è¡Œæ˜¯å¦æˆåŠŸ</em>ã€‚æ…ç”¨ã€‚</p>
</blockquote>
<h2 id="0x02-é¢„ç¼–è¯‘SQL"><a href="#0x02-é¢„ç¼–è¯‘SQL" class="headerlink" title="0x02 é¢„ç¼–è¯‘SQL"></a>0x02 é¢„ç¼–è¯‘SQL</h2><p>PrepareStatementï¼Œä¸€ä¸ªå¯ä»¥è®©æ•°æ®åº“é¢„ç¼–è¯‘SQLçš„APIã€‚<br>å¹¶ä¸æ˜¯æ‰€æœ‰çš„SQLéƒ½æ˜¯å†™æ­»çš„ï¼Œä¾‹å¦‚ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> UserAccount <span class="keyword">Where</span> <span class="keyword">Name</span> =</span><br></pre></td></tr></table></figure></p>
<p>æ ¹æ®åç§°æ¥æŸ¥æ‰¾ç”¨æˆ·ï¼Œè¿™é‡Œçš„åå­—è‡ªç„¶æ˜¯ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ï¼Œå¦‚æœç”¨Statementï¼Œåˆ™åº”è¯¥è¿™ä¹ˆå†™<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findUserByName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">  Statement  sta = connection.createStatement();</span><br><span class="line">  String findByName = <span class="string">"SELECT * FROM USER WHERE Name=' "</span>+name+<span class="string">" ';"</span>;</span><br><span class="line">  ResultSet resultSet = sta.executeQuery(findByName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœå°†nameäº¤ç»™æ™®é€šç”¨æˆ·æ¥è¾“å…¥ï¼Œåˆ™æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ å¦‚æœäº¤ç»™é»‘å®¢ï¼Œnameä»–ä¼šè¾“å…¥ <code>å°æ˜&#39; OR &#39;1&#39; = &#39;1</code>,è¿™æ ·è¯­å¥æ‹¼æ¥åå°±ä¼šå˜æˆ<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">USER</span> <span class="keyword">WHERE</span> <span class="keyword">Name</span>=<span class="string">' å°æ˜'</span> <span class="keyword">OR</span> <span class="string">'1'</span> = <span class="string">'1'</span>;</span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸€å¥å°±ä¼šæŠŠæ•°æ®åº“æ‰€æœ‰çš„ç”¨æˆ·å…¨éƒ¨æŸ¥å‡ºæ¥äº†ï¼Œå¾ˆä¸¥é‡çš„æ³¨å…¥æ¼æ´ï¼ŒåŸºæœ¬å°±ä¼šè¢«è„±åº“äº†ã€‚</p>
<p>æ‰€ä»¥Java JDBCå®šä¹‰çš„é¢„ç¼–è¯‘SQLçš„APIã€‚<br>ä¸Šä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">testJDBC</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        Statement sta = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preSta = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = getConnection();</span><br><span class="line">            <span class="comment">//æ‰§è¡ŒSQL</span></span><br><span class="line">            </span><br><span class="line">            String findByName = <span class="string">"SELECT * FROM USER WHERE Name=?;"</span>;</span><br><span class="line">            preSta = connection.prepareStatement(findByName);</span><br><span class="line">            preSta.setString(<span class="number">1</span>,<span class="string">"Zing"</span>);</span><br><span class="line">            resultSet = preSta.executeQuery();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…³é—­çš„æ“ä½œä¼šæ”¾åœ¨catchè¯­å¥çš„finallyå—ä¸­ï¼Œcatchå¤„ç†æ•°æ®åº“å¼‚å¸¸ï¼Œfinallyæ¥å…³é—­è¿æ¥</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="comment">//å…³é—­è¯­å¥</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                preSta.close();</span><br><span class="line">                <span class="comment">//å…³é—­ç»“æœé›†</span></span><br><span class="line">                resultSet.close();</span><br><span class="line">                <span class="comment">//å…³é—­æ•°æ®åº“è¿æ¥</span></span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, IOException, SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        <span class="comment">//JDBCä½¿ç”¨ç±»ä¼¼URLçš„æ•°æ®æºæè¿°</span></span><br><span class="line">        <span class="comment">//ä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è¿™æ ·å†™æ­»ã€‚è€Œæ˜¯ä½¿ç”¨é…ç½®æ¥æè¿°æ•°æ®æºï¼Œç”¨æˆ·åï¼Œå¯†ç </span></span><br><span class="line">        Properties props = <span class="keyword">new</span> Properties();</span><br><span class="line">        FileInputStream propertiesFile = <span class="keyword">new</span> FileInputStream(<span class="string">"JDBC.properties"</span>);</span><br><span class="line">        props.load(propertiesFile);</span><br><span class="line">        propertiesFile.close();</span><br><span class="line"></span><br><span class="line">        String DriverStr = props.getProperty(<span class="string">"jdbc.Driver"</span>);</span><br><span class="line">        String urlStr = props.getProperty(<span class="string">"jdbc.url"</span>);</span><br><span class="line">        String userName = props.getProperty(<span class="string">"jdbc.name"</span>);</span><br><span class="line">        String passcode = props.getProperty(<span class="string">"jdbc.passworld"</span>);</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(urlStr, userName, passcode);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> é¡ºä¾¿é‡æ„äº†ä¹‹å‰çš„ä»£ç ã€‚<br>æˆ‘ä»¬ç”¨ <code>?</code>å ä½ï¼Œç•™ä¸‹å¯å˜å‚æ•°çš„ä½ç½®ï¼Œåæ¥å†ç”¨<code>setString(int parameterIndex, String x)</code>è¿™ä¸ªæ–¹æ³•å°†æ•°æ®å¡«å……è¿›SQLï¼Œè¿™æ ·ï¼Œå¦‚æœå‚æ•°å«æœ‰SQLå…³é”®å­—æ—¶ï¼Œå°±ä¸èƒ½é€šè¿‡ç¼–è¯‘ï¼ŒæŸ¥ä¸åˆ°ç»“æœã€‚å¯ä»¥é¿å…SQLæ³¨å…¥ã€‚</p>
<p>preSta.setString(1,â€Zingâ€);è¡¨ç¤ºï¼Œåœ¨ç¬¬ä¸€ä¸ª<code>?</code>å¤„è®¾ç½®å‚æ•°ä¸º<code>Zing</code><br>å½“ç„¶å‚æ•°æ˜¯æ•°å­—ï¼Œæ—¥æœŸæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼Œ<br><code>void setDouble(int parameterIndex, double x) throws SQLException</code><br><code>setDate(int parameterIndex, java.sql.Date x)
            throws SQLException;</code></p>
<p>ç­‰æ–¹æ³•ï¼Œæ ¹æ®ä¸åŒç±»å‹è®¾ç½®å‚æ•°ã€‚</p>
<h2 id="0x03-æ•°æ®åº“ç±»å‹ä¸è½¬ä¹‰"><a href="#0x03-æ•°æ®åº“ç±»å‹ä¸è½¬ä¹‰" class="headerlink" title="0x03 æ•°æ®åº“ç±»å‹ä¸è½¬ä¹‰"></a>0x03 æ•°æ®åº“ç±»å‹ä¸è½¬ä¹‰</h2><p>æ•°æ®åº“ç±»å‹å’ŒJavaç±»å‹æ˜¯æœ‰ä¸€ç‚¹ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯JDBCå®šä¹‰äº†å…¶ä¸­çš„å¤§éƒ¨åˆ†ç±»å‹ï¼Œè¿™é‡Œä¸ä¸€ä¸€åˆ—ä¸¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1112615-1b51a004c32f21c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="MySQLéƒ¨åˆ†ç±»å‹å¯¹ç…§è¡¨ï¼Œæœ‰å…´è¶£å¯ä»¥æŸ¥ä¸€æŸ¥"></p>
<p>JDBCä¸­çš„è½¬ä¹‰æ˜¯ä¸ºäº†è®©Javaè®¿é—®æ•°æ®åº“æ—¶ï¼Œå¾—åˆ°æ™®éçš„æ”¯æŒã€‚ä¸€èˆ¬ç”¨äºä¸‹åˆ—ç‰¹æ€§</p>
<ul>
<li>æ—¶é—´æ—¥æœŸçš„å­—é¢å¸¸äº®</li>
<li>æ ‡é‡å‡½æ•°è°ƒç”¨</li>
<li>å­˜å‚¨è¿‡ç¨‹è°ƒç”¨</li>
<li>å¤–è¿æ¥æŸ¥è¯¢</li>
<li>LIKEå­å¥ä¸­è½¬ä¹‰å­—ç¬¦</li>
</ul>
<p>æ•°æ®åº“çš„æ—¥æœŸè½¬æ¢æˆJavaçš„æ—¥æœŸï¼Œæ˜¯é€šè¿‡ISO8601æ ‡å‡†è¡¡å®šå¹¶ç›¸äº’è½¬æ¢çš„</p>
<blockquote>
<p>dè¡¨ç¤ºDATEã€tè¡¨ç¤ºTIMEã€tsè¡¨ç¤ºTIMESTANP<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;d &apos;2017-01-22&apos;&#125;</span><br><span class="line">&#123;t &apos;19:30:29&apos;&#125;</span><br><span class="line">&#123;ts &apos;2017-01-22 19:30:29.989&apos;&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>æ ‡é‡å‡½æ•°æ˜¯è·å–ä¸€ä¸ªæ•°å€¼çš„å‡½æ•°ï¼Œä¸€èˆ¬è°ƒç”¨æ—¶åµŒå…¥æ ‡å‡†å‡½æ•°åå’Œå‚æ•°ï¼Œè¿™ä¸ªå¾ˆå°‘è§åˆ°æœ‰äººä½¿ç”¨çš„ï¼Œå°±ä¸ä¸¾ä¾‹äº†ã€‚</p>
<p>å­˜å‚¨è¿‡ç¨‹ï¼Œæ˜¯æ•°æ®åº“è‡ªå»ºçš„å­˜å‚¨æ–¹å¼ï¼Œä¸åŒçš„æ•°æ®åº“å­˜å‚¨è¿‡ç¨‹åŸºæœ¬ä¸ä¸€æ ·ï¼Œè¦è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œéœ€è¦ç”¨callæ¥è¿›è¡Œè½¬ä¹‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;call PROC01(?,?)&#125;</span><br><span class="line">&#123;call PROC02&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœä½ ä¸æ˜ç™½ä»€ä¹ˆå­˜å‚¨è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹çœ‹æ•°æ®åº“ç›¸å…³çš„èµ„æ–™ã€‚</p>
<p>å¤–è¿æ¥ï¼Œå°±æ˜¯Outter Joinï¼Œå€Ÿç”¨æ ¸å¿ƒå·IIä¸­çš„ä¾‹å­<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> &#123;oj Books <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> Publishers <span class="keyword">ON</span> Books.Publish_ID = Publishers.Publish_ID &#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ¡è¯­å¥è¡¨ç¤ºæŸ¥è¯¢æ‰¾ä¸åˆ°å‡ºç‰ˆå•†çš„ä¹¦ï¼Œç›¸åå¦‚æœæ˜¯<code>RIGHT OUTER JOIN</code>åˆ™ä¼šæŸ¥è¯¢å‡ºæ²¡æœ‰å‡ºç‰ˆä¹¦çš„å‡ºç‰ˆå•†ï¼Œå¦‚æœéœ€è¦æŸ¥åˆ°å…¨éƒ¨ï¼Œåˆ™ç”¨<code>FULL OUTER JOIN</code><br>ã€‚è¿™é‡Œç”¨è½¬ä¹‰æ˜¯å› ä¸ºæœ‰äº›æ•°æ®åº“å®ç°ä¸å¤ªç»Ÿä¸€ã€‚</p>
<p>Likeå­å¥è½¬ä¹‰ï¼Œæ˜¯å› ä¸ºä¸‹åˆ’çº¿å’Œç™¾åˆ†å·åœ¨Likeæ¡ä»¶é‡Œæ˜¯ç‰¹æ®Šçš„å«ä¹‰ï¼Œéœ€è¦ç”¨è½¬ä¹‰æ¥è¡¨ç¤º<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">User</span> <span class="keyword">WHERE</span> <span class="keyword">Name</span> <span class="keyword">LIKE</span> %!_%ming &#123;escape <span class="string">'!'</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>{escape â€˜!â€™}è¡¨ç¤ºå°†ï¼å®šä¹‰ä¸ºè½¬ä¹‰ç¬¦å·ï¼Œ!_è¡¨ç¤ºå­—é¢é‡ä¸‹åˆ’çº¿</p>
<h2 id="0x04-äº‹åŠ¡"><a href="#0x04-äº‹åŠ¡" class="headerlink" title="0x04 äº‹åŠ¡"></a>0x04 äº‹åŠ¡</h2><p>ä¸ºäº†ä¿è¯æ•°æ®å’Œä¸šåŠ¡é€»è¾‘çš„å®Œæ•´æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ç³»åˆ—çš„SQLè¯­å¥æ„å»ºæˆä¸€ä¸ªäº‹ç‰©ï¼Œå½“æ‰€æœ‰è¯­å¥éƒ½é¡ºåˆ©æ‰§è¡Œçš„æ—¶å€™ï¼Œäº‹åŠ¡å¯ä»¥è¢«æäº¤ã€‚ä½†æ˜¯å¦‚æœä¸­é€”è¢«é˜»ç¢ï¼Œåˆ™æ•°æ®ä¼šè¢«å›æ»šï¼Œå°†æ•°æ®æ¢å¤æˆæ‰§è¡Œå‰çš„æ ·å­ã€‚</p>
<p>é¦–å…ˆéœ€è¦å…³é—­æ•°æ®åº“è‡ªåŠ¨æäº¤<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">connection.setAutoCommit(<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæ ¹æ®å®é™…ä¸šåŠ¡æ‰§è¡Œå¤šæ¡UPDATE INSERT DELETEè¯­å¥<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">statement.executeUpdate(<span class="string">"SQL1"</span>);</span><br><span class="line">statement.executeUpdate(<span class="string">"SQL2"</span>);</span><br><span class="line">statement.executeUpdate(<span class="string">"SQL3"</span>);</span><br></pre></td></tr></table></figure></p>
<p>å½“æ‰€æœ‰è¯­å¥é¡ºåˆ©æ‰§è¡Œåï¼Œè°ƒç”¨<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">connection.commit();</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœé‡åˆ°å¼‚å¸¸æˆ–é”™è¯¯ï¼Œåˆ™å¯ä»¥è°ƒç”¨<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">connection.rollback();</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä¸­JDBCæ”¯æŒäº‹åŠ¡ä¿å­˜ç‚¹å’Œæ‰¹é‡æ›´æ–°<br>ä¿å­˜ç‚¹ï¼šå°†äº‹åŠ¡çš„æŸä¸€é˜¶æ®µè®¾ç½®ä¸ºä¿å­˜ç‚¹åï¼Œå¯ä»¥æ§åˆ¶å›æ»šæ—¶ï¼Œæ¢å¤åˆ°è¿™ä¸ªä¿å­˜ç‚¹çš„æ•°æ®ã€‚ä»è€Œæ›´åŠ ç²¾ç¡®çš„æ§åˆ¶å›æ»šæ“ä½œ<br>æ‰¹é‡æ›´æ–°å°±æ˜¯å°†å¤§é‡æ•°æ®ä¸€æ¬¡æ€§å­˜å…¥ï¼Œæˆ–ä¿®æ”¹å¤§é‡æ•°æ®æ—¶ä½¿ç”¨çš„ã€‚ä¸¤ä¸ªğŸŒ°ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">statement.executeUpdate(<span class="string">"SQL1"</span>);</span><br><span class="line">Savepoint step1 = connection.setSavepoint();</span><br><span class="line">statement.executeUpdate(<span class="string">"SQL2"</span>);</span><br><span class="line"><span class="keyword">if</span>(something==<span class="keyword">false</span>)&#123;</span><br><span class="line">  connection.rollback(step1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String updateSQL = <span class="string">"â€¦â€¦"</span>;</span><br><span class="line">statement.addBatch(updateSQL);</span><br><span class="line"><span class="keyword">while</span>(needUpdate)&#123;</span><br><span class="line">  command = <span class="string">"â€¦â€¦"</span>+<span class="string">"updateSQL2"</span></span><br><span class="line">  statement.addBatch(updateSQL);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‰¹é‡æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">int</span> effectRows = statement.executeBatch();</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><em>æ‰¹é‡æ‰§è¡Œä¸­ä¸€å®šä¸èƒ½æœ‰æŸ¥è¯¢è¯­å¥ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</em></strong></p>
</blockquote>
<h2 id="0x05-æ–‡ä»¶æŸ¥è¯¢å’Œå­˜å…¥æ•°æ®åº“"><a href="#0x05-æ–‡ä»¶æŸ¥è¯¢å’Œå­˜å…¥æ•°æ®åº“" class="headerlink" title="0x05 æ–‡ä»¶æŸ¥è¯¢å’Œå­˜å…¥æ•°æ®åº“"></a>0x05 æ–‡ä»¶æŸ¥è¯¢å’Œå­˜å…¥æ•°æ®åº“</h2><p>ä¸å»ºè®®è¿™ä¹ˆæï¼Œæ•°æ®åº“å­˜å…¥å¤ªå¤šå¤§æ–‡ä»¶ä¼šå¯¼è‡´æ•°æ®åº“åºå¤§ï¼Œå¤‡ä»½å’Œæ¢å¤çš„æˆæœ¬å°†å¢åŠ ã€‚<br>åœ¨æ•°æ®åº“ä¸­ï¼ŒäºŒè¿›åˆ¶å¤§å¯¹è±¡ç§°ä¸ºBlobï¼Œå­—ç¬¦å‹å¤§å¯¹è±¡ä¸ºClob<br>è¿™é‡Œæ¼”ç¤ºä¸€ä¸‹æŸ¥è¯¢å’Œå­˜å‚¨<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯»å–</span></span><br><span class="line"> PreparedStatement preparedStatement01 = connection.prepareStatement(<span class="string">"SELECT picture FROM PictureTab WHERE picName=?;"</span>);</span><br><span class="line"> preparedStatement01.setString(<span class="number">1</span>,<span class="string">"superman"</span>);</span><br><span class="line"> ResultSet rs = preparedStatement01.executeQuery();</span><br><span class="line"> <span class="keyword">if</span>(rs.next())&#123;</span><br><span class="line">     Blob picBlob = rs.getBlob(<span class="number">1</span>);</span><br><span class="line">     Image pic = ImageIO.read(picBlob.getBinaryStream());</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//å­˜å‚¨</span></span><br><span class="line"> Blob pictureBlob = connection.createBlob();</span><br><span class="line"> <span class="keyword">int</span> offset = <span class="number">0</span>;</span><br><span class="line"> OutputStream outStram = pictureBlob.setBinaryStream(offset);</span><br><span class="line"> ImageIO.write(pictureBlob,<span class="string">"PNG"</span>,outStram);</span><br><span class="line"> PreparedStatement preparedStatement02 = connection.prepareStatement(<span class="string">"INSERT INTO PictureTab VALUE (?,?);"</span>);</span><br><span class="line"> preparedStatement02.setString(<span class="number">1</span>, <span class="string">"SuperMan"</span>);</span><br><span class="line"> preparedStatement02.setBlob(<span class="number">2</span>,pictureBlob);</span><br><span class="line"> preparedStatement02.executeUpdate();</span><br></pre></td></tr></table></figure></p>
<h2 id="0x06-å…¶ä»–ä¸€äº›æ¦‚å¿µ"><a href="#0x06-å…¶ä»–ä¸€äº›æ¦‚å¿µ" class="headerlink" title="0x06 å…¶ä»–ä¸€äº›æ¦‚å¿µ"></a>0x06 å…¶ä»–ä¸€äº›æ¦‚å¿µ</h2><ul>
<li>å…ƒæ•°æ®ï¼šæ•°æ®åº“çš„ç»“æ„å’Œè¡¨ä¿¡æ¯ç­‰æè¿°æ•°æ®åº“ç»“æ„å’Œç»„æˆéƒ¨åˆ†çš„æ•°æ®</li>
<li>å¤šç»“æœé›†ï¼šä¸€æ¬¡æŸ¥è¯¢ï¼Œä½¿ç”¨å¤šä¸ªSelect SQLè¯­å¥æ˜¯ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªå¤šç»“æœé›†</li>
<li>å¯æ»šåŠ¨ç»“æœé›†ï¼šå¯ä»¥å‘å‰ï¼Œå‘åæŸ¥è¯¢çš„ç»“æœé›†ï¼Œä¹‹å‰çš„åªèƒ½ç”¨Nextå‘åæŸ¥è¯¢ï¼Œä½¿ç”¨<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement stat = Connection.createStatement(ResultSet.TYPE_SCROLL_INSENSTIVE , ResultSet.CONCUR_READ_ONLY )</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>åœ¨è·å–ç»“æœé›†çš„æ—¶å€™ï¼Œä¼šå˜æˆä¸€ä¸ªå¯æ»šåŠ¨é›†ã€‚</p>
<ul>
<li>è·å–æ•°æ®åº“ç”Ÿæˆé”®å€¼<code>statemwnt.getGeneratedKeys();</code></li>
<li>è¡Œé›† RowSetæ¥å£ç»§æ‰¿äº†ResultSetï¼Œä½†ä¸éœ€è¦é•¿æ—¶é—´å ç”¨æ•°æ®åº“é“¾æ¥ã€‚</li>
</ul>
<hr>
<p>love&amp;peace<br>è‹¥æœ‰é”™è¯¯è¯·ä¸åæŒ‡å‡ºï¼Œè°¢è°¢ã€‚<br>æˆ‘çš„åšå®¢ï¼š<a href="https://micorochio.github.io/" target="_blank" rel="noopener">https://micorochio.github.io/</a><br>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„:<a href="https://micorochio.github.io/2017/03/10/basic-of-java-JDBC/ã€‚" target="_blank" rel="noopener">https://micorochio.github.io/2017/03/10/basic-of-java-JDBC/ã€‚</a></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-enable="false" data-ae="false" data-ci="" data-cs="" data-r="" data-o="" data-a="" data-d="false">æŸ¥çœ‹è¯„è®º</div>


    </div>
    
</div>


    </div>
</div>
</body>

<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
