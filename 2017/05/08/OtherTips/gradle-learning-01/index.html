
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>初探Gradle - AIX Zing</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="&lt;br/&gt;光荣在于平淡&lt;br/&gt;艰巨在于漫长&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;无论我多早迎接这清晨&lt;br/&gt;在路上&lt;br/&gt;都会有人在&lt;br/&gt;我以为别人还在梦乡&lt;br/&gt;但无论什么时候&lt;br/&gt;这个世界都比我快一步,0x00 所谓构建工具多人合作时，代码需要按照规范统一管理，但是早期一个项目很难做到一处编写到处运行。一方面，开发者自己的编写环境不能绝对统一，另一方面，没有一个方案去解决自动构建项目的问题，而手动,"> 
    <meta name="author" content="zing"> 
    <link rel="alternative" href="atom.xml" title="AIX Zing" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    <link rel="stylesheet" href="/css/diaspora.css">
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">AIX Zing</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://xzing.github.io"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">初探Gradle</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">初探Gradle</h1>
        <div class="stuff">
            <span>五月 08, 2017</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Gradle/">Gradle</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Java/">Java</a></li></ul>


        </div>
        <div class="content markdown">
            <h2 id="0x00-所谓构建工具"><a href="#0x00-所谓构建工具" class="headerlink" title="0x00 所谓构建工具"></a>0x00 所谓构建工具</h2><p>多人合作时，代码需要按照规范统一管理，但是早期一个项目很难做到一处编写到处运行。一方面，开发者自己的编写环境不能绝对统一，另一方面，没有一个方案去解决自动构建项目的问题，而手动机械重复构建往往出现各种问题。</p>
<p>后来，Java构建项目工具诞生了Ant，第一代自动化构建工具。通过XML，约束构建流程，达到自动构建的目的。<br>Ant构建脚本由 一个project ，多个target，以及可用的task构成。<br>有兴趣的童鞋可用查一下，Ant构建的XML文件的大致写法，这里不作详解。只介绍缺点<br>ㄟ( ▔, ▔ )ㄏ<br>Ant虽然实现了自动构建，但是在大型项目中，XML构建脚本异常臃肿庞大；构建脚本逻辑也会越来越复杂，最后难以维护。<br>而且Ant没有规范项目结构，可能导致每次编译出来的东西都不太一样，特别当依赖被改来改去，易出现重复拷贝。因为Ant自身本来就没有提供依赖管理工具，只能借助Ivy。<br>构建时也无法监控内存变化，task执行。<br><a id="more"></a></p>
<p>然后又出现了Maven，现在Maven依然被广泛利用。<br>Maven本身规范了项目结构，并提供了依赖管理。主要功能如下：</p>
<ul>
<li>代码编译</li>
<li>测试（单元，集成）</li>
<li>装配（如，jar文件依赖）</li>
<li>部署（将项目部署到本地仓库）</li>
<li>发布（将项目发布到远程仓库）</li>
</ul>
<p>上面都是看来的，因为Maven解决了Ant的痛点，很快流行起来，其中仓库的概念，更是好用，解决了依赖问题。而且Maven可以添加各种插件，相对来说，比Ant更易用，更稳定。</p>
<p>但是：Maven规范很严格，可能导致你搬运来的非Maven项目，需要大改才能运行。扩展也非常难搞，需要了解Major，早期版本还会自己更新，这对有墙的我们来说很痛苦。</p>
<p>所以今天我要介绍Gradle，一个灵活的构建工具。</p>
<h2 id="0x01-Gradle，一个更好的构建工具！"><a href="#0x01-Gradle，一个更好的构建工具！" class="headerlink" title="0x01 Gradle，一个更好的构建工具！"></a>0x01 Gradle，一个更好的构建工具！</h2><p>一开始接触gradle会觉得，这玩意儿写的东西很简洁，logo也比Maven好看。<br>但是估计也不知道这东西咋玩。所以这个东西究竟好在哪里？</p>
<ol>
<li>基于JVM，Gradle是基于JVM的构建工具（Java跨平台，你值得拥有😁）。</li>
<li>由Groovy的领域语言DSL来表达构建脚本（所以简洁，强大）。</li>
<li>项目迁移到gradle不需要特大改动，而且极易扩展</li>
<li>用的人越来越多了</li>
<li>大型项目持续交付，</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/1112615-be2d8b2a656cb75c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>唉，看的书作者懒得翻译，我给你们看<a href="https://zh.wikipedia.org/wiki/%E5%81%A5%E5%A3%AE%E6%80%A7_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener">wikipedia的解释</a>)</p>
<blockquote>
<p>鲁棒 ：<strong>健壮性</strong>（英语：<strong>Robustness</strong>）是指一个计算机系统在执行过程中处理错误，以及算法在遭遇输入、运算等异常时继续正常运行的能力。 诸如<a href="https://zh.wikipedia.org/wiki/%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95" target="_blank" rel="noopener">模糊测试</a>之类的<a href="https://zh.wikipedia.org/wiki/%E5%BD%A2%E5%BC%8F%E5%8C%96%E6%96%B9%E6%B3%95" target="_blank" rel="noopener">形式化方法</a>中，必须通过制造错误的或不可预期的输入来验证程序的健壮性。很多商业产品都可用来测试软件系统的健壮性。健壮性也是<a href="https://zh.wikipedia.org/wiki/%E5%A4%B1%E6%95%88%E8%AF%84%E5%AE%9A" target="_blank" rel="noopener">失效评定</a>分析中的一个方面。</p>
</blockquote>
<h2 id="0x02-Gradle之世界你好"><a href="#0x02-Gradle之世界你好" class="headerlink" title="0x02 Gradle之世界你好"></a>0x02 Gradle之世界你好</h2><p>废话一大堆，现在写一个Gradle版的Hello World</p>
<ul>
<li>准备</li>
</ul>
<ol>
<li>安装JDK，配置JAVA_HOME<br>Windows：<a href="http://jingyan.baidu.com/article/6dad5075d1dc40a123e36ea3.html" target="_blank" rel="noopener">http://jingyan.baidu.com/article/6dad5075d1dc40a123e36ea3.html</a><br>Lunix：<a href="http://jingyan.baidu.com/article/ab0b56308966acc15afa7d18.html" target="_blank" rel="noopener">http://jingyan.baidu.com/article/ab0b56308966acc15afa7d18.html</a><br>Mac：自行搜索吧</li>
<li>安装Gradle，配置GRADLE_HOME<br>官方安装文档：<a href="https://gradle.org/install" target="_blank" rel="noopener">https://gradle.org/install</a><br>如果你英文烂，请使用百度，我只说一下Lunix<br><a href="https://gradle.org/releases" target="_blank" rel="noopener">https://gradle.org/releases</a>   找一个最新的稳定版本，不看源码你只需要binary-only 版本的,我以3.5 为例子。</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line">sudo mkdir gradle</span><br><span class="line"><span class="built_in">cd</span> gradle</span><br><span class="line">sudo wget https://services.gradle.org/distributions/gradle-3.5-bin.zip</span><br><span class="line">sudo unzip gradle-3.5-bin.zip</span><br></pre></td></tr></table></figure>
<p>配置环境变量<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.profile</span><br></pre></td></tr></table></figure></p>
<p>在最后添加下面<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GRADLE_HOME=/usr/<span class="built_in">local</span>/gradle/gradle-3.5</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$GRADLE_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></p>
<p>按下<code>esc</code> 然后<code>:wq!</code>保存<br>然后使环境变量生效<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.profile</span><br></pre></td></tr></table></figure></p>
<p>好了，安装完成。</p>
<blockquote>
<p><strong>请务必自己处理好路径</strong></p>
</blockquote>
<p>测试，打开命令行。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1112615-9dd7019706ee29d5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="输入  gradle -v "></p>
<p>接下来创造爱因斯坦小板凳</p>
<p>随便找一个文件夹，创建一个build.gradle文件，里面写如下代码<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">task helloworld&#123;</span><br><span class="line">  doLast&#123;</span><br><span class="line">    println 'Hello World!'</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后，在这个文件夹下运行命令行<br>输入<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle -q helloworld</span><br></pre></td></tr></table></figure></p>
<p>看效果</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1112615-e933d43e41ec3b2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="我是在graldeTest文件夹下运行的"></p>
<p>这里只是运行了一个task，task和action是gradle重要的概念，当然我也是开始学习。后面会把这些概念挨个介绍给各位老爷。</p>
<p>这里介绍一下 gralde -q这个命令<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-q, --quiet             Log errors only.</span><br></pre></td></tr></table></figure></p>
<p>安静模式运行，只打印错误日志。<br>当然<br>还有其他的命令，我找几个常用的介绍一下。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-b xxx.gradle  <span class="comment">#运行一个叫xxx的构建脚本</span></span><br><span class="line">--offline <span class="comment">#离线运行（保证本地有离线仓库）</span></span><br><span class="line">-P --project-prop <span class="comment">#向构建脚本中传参</span></span><br><span class="line">-i --info <span class="comment">#设置编译日志输出级别</span></span><br><span class="line">-s --stacktrace <span class="comment">#构建出错输出跟踪栈信息</span></span><br><span class="line">tasks <span class="comment">#显示所有可运行的task</span></span><br><span class="line">properties <span class="comment">#显示项目中可用的属性</span></span><br></pre></td></tr></table></figure></p>
<h2 id="0x03-小结"><a href="#0x03-小结" class="headerlink" title="0x03 小结"></a>0x03 小结</h2><p>废话了一大堆，后面写了个helloWorld，想必目前各位看官老爷还是不太明白gradle究竟如何使用。不急，后面我会一一把坑填好的：我会介绍创建Gradle项目，构建脚本，依赖管理等，不过写的会稍微慢一点。<br>ps:因为脑残升级了node，导致Hexo博客炸了，昨天抢救了一整天。发了一篇小白文。<br>因为要熟悉项目，还有那个FS计划依然在进行，不过会慢一些了，过些日子还有一堆其他事情要处理，希望我能够保持学习的节奏吧。</p>
<p>欢迎转载，请保留出处：<a href="https://micorochio.github.io/2017/05/08/gradle-learning-01/" target="_blank" rel="noopener">初探Gradle by:MaxZing</a></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-enable="false" data-ae="false" data-ci="" data-cs="" data-r="" data-o="" data-a="" data-d="false">查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>

<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
